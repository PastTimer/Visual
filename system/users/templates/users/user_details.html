{% extends "base_internal.html" %}
{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>User Details</title>

<link href="https://fonts.googleapis.com/css?family=Inter:400,500,700&display=swap" rel="stylesheet">

<style>
    .success-message {
		color: green; 
		margin-bottom: 1rem;
	}

    .error-input {
        border-color: #E53E3E !important;
        background: #FFF5F5 !important;
    }

    .error-select {
        border-color: #E53E3E !important;
        background: 
            #FFF5F5 /* background color */
            url("data:image/svg+xml;utf8,<svg width='16' height='11' viewBox='0 0 16 11' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M7.99976 7.19417L13.9025 1.29147C14.0125 1.17758 14.144 1.08674 14.2895 1.02424C14.435 0.961746 14.5915 0.92885 14.7498 0.927474C14.9082 0.926098 15.0652 0.95627 15.2117 1.01623C15.3583 1.07619 15.4914 1.16473 15.6034 1.27669C15.7153 1.38866 15.8039 1.5218 15.8638 1.66835C15.9238 1.8149 15.954 1.97192 15.9526 2.13026C15.9512 2.28859 15.9183 2.44506 15.8558 2.59055C15.7933 2.73604 15.7025 2.86762 15.5886 2.97762L8.84283 9.72339C8.61921 9.94694 8.31596 10.0725 7.99976 10.0725C7.68356 10.0725 7.38031 9.94694 7.15669 9.72339L0.41092 2.97762C0.297028 2.86762 0.206183 2.73604 0.143687 2.59055C0.0811915 2.44506 0.0482959 2.28859 0.04692 2.13026C0.0455441 1.97192 0.0757155 1.8149 0.135674 1.66835C0.195632 1.5218 0.284176 1.38866 0.39614 1.27669C0.508103 1.16473 0.641244 1.07619 0.787794 1.01623C0.934343 0.95627 1.09137 0.926098 1.2497 0.927474C1.40804 0.92885 1.56451 0.961746 1.71 1.02424C1.85548 1.08674 1.98706 1.17758 2.09706 1.29147L7.99976 7.19417Z' fill='%23374151'/></svg>") 
            no-repeat right 0.75rem center !important;
    }


    body {
        background: #F9F9F9;
        margin: 0;
        font-family: 'Inter', Arial, sans-serif;
    }

    input, select, textarea {
        font-family: 'Inter', Arial, sans-serif;
        font-weight: 400;
    }

    .user-details-container {
        margin: 60px;
        display: flex;
        flex-direction: column;
        gap: 32px;
    }

    .user-details-title {
        font-size: 32px;
        font-weight: 400;
        color: #000;
        font-family: 'Inter', Arial, sans-serif;
    }

    .user-details-section {
        padding-bottom: 16px;
        border-bottom: 1px solid #E5E7EB;
    }

    .user-details-grid {
        display: grid;
        gap: 20px;
    }

    .user-details-row {
        display: grid;
        gap: 20px;
    }

    .user-details-row.cols-4 {
        grid-template-columns: repeat(4, 1fr);
    }
    
    .user-details-row.cols-3 {
        grid-template-columns: repeat(3, 1fr);
    }

    .user-details-row.cols-2 {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .user-details-category {
        font-size: 1.15rem;
        font-weight: 700;
        color: #000;
    }

    .user-details-label {
        font-weight: 500;
        color: #374151;
        font-size: 1.08rem;
        margin-bottom: 0.25rem;
        margin-top: 1rem;
    }

    .user-details-value {
        font-weight: 500;
        color: #374151;
        font-size: 1.08rem;
        word-break: break-word;
        background: #f7f7f7;
        border-radius: 0.5rem;
        padding: 8px 14px;
        border: 1px solid #e5e7eb;
        min-height: 21px;
        display: block;
        width: 100%;
        box-sizing: border-box;
    }

    select.user-details-value {
		appearance: none;
		-webkit-appearance: none;
		-moz-appearance: none;
		padding-right: 2rem;
		background: url("data:image/svg+xml;utf8,<svg width='16' height='11' viewBox='0 0 16 11' fill='none' xmlns='http://www.w3.org/2000/svg'><path d='M7.99976 7.19417L13.9025 1.29147C14.0125 1.17758 14.144 1.08674 14.2895 1.02424C14.435 0.961746 14.5915 0.92885 14.7498 0.927474C14.9082 0.926098 15.0652 0.95627 15.2117 1.01623C15.3583 1.07619 15.4914 1.16473 15.6034 1.27669C15.7153 1.38866 15.8039 1.5218 15.8638 1.66835C15.9238 1.8149 15.954 1.97192 15.9526 2.13026C15.9512 2.28859 15.9183 2.44506 15.8558 2.59055C15.7933 2.73604 15.7025 2.86762 15.5886 2.97762L8.84283 9.72339C8.61921 9.94694 8.31596 10.0725 7.99976 10.0725C7.68356 10.0725 7.38031 9.94694 7.15669 9.72339L0.41092 2.97762C0.297028 2.86762 0.206183 2.73604 0.143687 2.59055C0.0811915 2.44506 0.0482959 2.28859 0.04692 2.13026C0.0455441 1.97192 0.0757155 1.8149 0.135674 1.66835C0.195632 1.5218 0.284176 1.38866 0.39614 1.27669C0.508103 1.16473 0.641244 1.07619 0.787794 1.01623C0.934343 0.95627 1.09137 0.926098 1.2497 0.927474C1.40804 0.92885 1.56451 0.961746 1.71 1.02424C1.85548 1.08674 1.98706 1.17758 2.09706 1.29147L7.99976 7.19417Z' fill='%23374151'/></svg>")
        		no-repeat right 0.75rem center;
  		background-size: 13px 8px;
    }

    .user-details-picture {
        width: 80px;
        height: 80px;
        border: 2px solid #000;
        object-fit: cover;
        margin-left: 12px;
    }

	.form-actions {
		display: flex;
		gap: 1rem;
		justify-content: flex-end;
	}

    .btn {
		padding: 0.75rem 1.5rem;
		border: none;
		border-radius: 8px;
		font-size: 1rem;
		font-weight: 600;
		cursor: pointer;
		transition: all 0.2s ease;
		font-family: 'Inter', sans-serif;
        text-decoration: none;
    }

    .back {
		background: #6B7280;
		color: white;
    }

    .back:hover {
		background: #4B5563;
		transform: translateY(-1px);
    }

    .edit {
		background: #0A6C44;
		color: white;
    }

    .edit:hover {
		background: #1f7c57;
		transform: translateY(-1px);
    }

    span.required {
        color: #e53e3e;
    }

    .error-message {
        color: #e53e3e;
        font-size: 0.9rem;
        margin-top: -0.5rem;
        margin-bottom: 0.5rem;
    }
</style>

<!-- Verification -->
<style>
    .verification-badge {
        background: #E6FFFA;
        border: 1px solid #1F7C57;
        color: #1F7C57;
        font-weight: 600;
        font-size: 32px;
        padding: 6px 16px;
        border-radius: 8px;
        cursor: pointer;
        text-decoration: none;
    }

    .verification-badge.unverified {
        background: #FFF5F5;
        border: 1px solid #E53E3E;
        color: #E53E3E;
    }
</style>

</head>

<body>
    <div class="user-details-container">
        <div class="user-details-title" style="display:flex;justify-content:space-between;align-items:center;">
            <div>User Details</div>
            <div>
                {% if user.is_confirmed %}
                    <span class="verification-badge">Verified</span>
                {% else %}
                    <span class="verification-badge unverified">Unverified</span>
                {% endif %}
            </div>
        </div>
        <div class="user-details-section">
            <div class="user-details-category">User Profile</div>
            <div class="user-details-row cols-4">
                <div>
                    <div class="user-details-label">Last Name</div>
                    <div class="user-details-value">{{ user.last_name }}</div>
                </div>
                <div>
                    <div class="user-details-label">Given Name</div>
                    <div class="user-details-value">{{ user.given_name }}</div>
                </div>
                <div>
                    <div class="user-details-label">M.I.</div>
                    <div class="user-details-value">{{ user.middle_initial }}</div>
                </div>
                <div>
                    <div class="user-details-label">Suffix</div>
                    <div class="user-details-value">{{ user.suffix }}</div>
                </div>
            </div>
            <div class="user-details-row cols-3">
                <div>
                    <div class="user-details-label">Sex</div>
                    <div class="user-details-value">{{ user.get_sex_display }}</div>
                </div>
                <div>
                    <div class="user-details-label">Email</div>
                    <div class="user-details-value">{{ user.email }}</div>
                </div>
                <div>
                    <div class="user-details-label">Contact Number</div>
                    <div class="user-details-value">{{ user.contact_no }}</div>
                </div>
            </div>
            {% if user.valid_id %}
            <div>
                <div class="user-details-label">Valid ID ({{ user.get_preferred_id_display }})</div>
                <div style="display:flex;align-items:center;">
                    <img src="{{ user.valid_id.url }}" alt="Valid ID" class="user-details-picture">
                    <a href="{{ user.valid_id.url }}" style="font-size:18px;color:#00538E;margin-left:28px;vertical-align:middle;text-decoration:none;">View ID</a>
                </div>
            </div>
            {% else %}
            <div>
                <div class="user-details-label">Valid ID</div>
                <div class="user-details-value">No valid ID uploaded.</div>
            </div>    
            {% endif %}

        </div>
        <div class="user-details-section">
            <div class="user-details-category">Account Info</div>
            <div class="user-details-row cols-2">
                <div>
                    <div class="user-details-label">Role</div>
                    <div class="user-details-value">
                        {{ user.get_role_display }}
                    </div>
                </div>
                <div>
                    <div class="user-details-label">Joined</div>
                    <div class="user-details-value">{{ user.date_joined|date:"F d, Y" }}</div>
                </div>
            </div>
        </div>
        {% if user.role == 'IMPLEMENTER' %}
        <div class="user-details-section">
            <div class="user-details-category">Implementer Info</div>
            <div class="user-details-row cols-2">
                <div>
                    <div class="user-details-label">Degree</div>
                    <div class="user-details-value">{{ user.degree }}</div>
                </div>
                <div>
                    <div class="user-details-label">Expertise</div>
                    <div class="user-details-value">{{ user.expertise }}</div>
                </div>
            </div>
        </div>
        {% elif user.role == 'FACULTY' %}
        <div class="user-details-section">
            <div class="user-details-category">Faculty Info</div>
            <div class="user-details-row cols-2">
                <div>
                    <div class="user-details-label">College</div>
                    <div class="user-details-value">{{ user.college }}</div>
                </div>
                <div>
                    <div class="user-details-label">Campus</div>
                    <div class="user-details-value">{{ user.get_campus_display }}</div>
                </div>
            </div>
            <div class="user-details-row cols-2">
                <div>
                    <div class="user-details-label">Degree</div>
                    <div class="user-details-value">{{ user.degree }}</div>
                </div>
                <div>
                    <div class="user-details-label">Expertise</div>
                    <div class="user-details-value">{{ user.expertise }}</div>
                </div>
            </div>
        </div>
        {% elif user.role == 'CLIENT' %}
        <div class="user-details-section">
            <div class="user-details-category">Client Info</div>
            <div class="user-details-row cols-2">
                <div>
                    <div class="user-details-label">Company</div>
                    <div class="user-details-value">{{ user.company }}</div>
                </div>
                <div>
                    <div class="user-details-label">Industry</div>
                    <div class="user-details-value">{{ user.industry }}</div>
                </div>
            </div>
        </div>
        {% elif user.role == 'DEAN' %}
        <div class="user-details-section">
            <div class="user-details-category">Dean Info</div>
            <div class="user-details-row cols-2">
                <div>
                    <div class="user-details-label">College</div>
                    <div class="user-details-value">{{ user.college }}</div>
                </div>
                <div>
                    <div class="user-details-label">Campus</div>
                    <div class="user-details-value">{{ user.get_campus_display }}</div>
                </div>
            </div>
        </div>
        {% elif user.role == 'PROGRAM_HEAD' %}
        <div class="user-details-section">
            <div class="user-details-category">Program Head Info</div>
            <div class="user-details-row cols-2">
                <div>
                    <div class="user-details-label">College</div>
                    <div class="user-details-value">{{ user.college }}</div>
                </div>
                <div>
                    <div class="user-details-label">Campus</div>
                    <div class="user-details-value">{{ user.get_campus_display }}</div>
                </div>
            </div>
        </div>
        {% elif user.role == 'COORDINATOR' %}
        <div class="user-details-section">
            <div class="user-details-category">College Coordinator Info</div>
            <div class="user-details-row cols-2">
                <div>
                    <div class="user-details-label">College</div>
                    <div class="user-details-value">{{ user.college }}</div>
                </div>
                <div>
                    <div class="user-details-label">Campus</div>
                    <div class="user-details-value">{{ user.get_campus_display }}</div>
                </div>
            </div>
        {% endif %}


        <div class="form-actions">
            <a href="{% url 'manage_user' %}" class="back btn">Back</a>
            <a href="{% url 'edit_user' user.id %}" class="edit btn">Edit</a>
        </div>
    </div>
    


</body>
</html>

{% endblock %}