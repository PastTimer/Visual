{% extends "base_internal.html" %}
{% block content %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>About Us</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css">
<link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:700&family=Inter:wght@400;700&display=swap" rel="stylesheet">

<style>
	.edit-btn {
		background: #063A1C;
		color: white;
		width: 45px;
		height: 45px;
		border-radius: 50%;
		font-size: 18px;
		display: flex;
		align-items: center;
		justify-content: center;
		cursor: pointer;
		transition: all 0.2s ease;
		box-shadow: 0 2px 8px rgba(10, 108, 68, 0.2);
		text-decoration: none;
	}

	.edit-btn:hover {
		background: #04521c;
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(10, 108, 68, 0.3);
		text-decoration: none;
		color: white;
	}
	body {
		margin: 0;
		font-family: Helvetica, Arial, sans-serif;
		color: #1F2937;
		background: #FBFBFB;
		line-height: 1.55;
	}

	.about-container {
		margin: 60px;
		display: flex;
		flex-direction: column;
		gap: 30px;
	}

	.hero {
		margin: 0 auto;
		display: grid;
		grid-template-columns: 1.5fr 1fr;
		gap: 2rem;
		padding: 2.25rem 1rem 3rem;
	}

	.hero h1 {
		margin: 0;
		font-size: 1.9rem;
		line-height: 1.35;
	}

	.hero p {
		color: #374151;
	}

	.seal {
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.seal img {
		width: 260px;
	}

	.section-gray {
		background: #F4F4F4;
		border-top: 1px solid #E5E7EB;
		border-bottom: 1px solid #E5E7EB;
		padding: 2rem 0 2.5rem;
	}

	.container {
		margin: 0 auto;
		padding: 0 1rem;
	}

	.section-title {
		text-align: center;
		color: #245F3E;
		font-size: 1.5rem;
		font-weight: 800;
		margin: 0 0 1.75rem;
	}

	.two-col {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: 2rem;
	}

	.card {
		background: #fff;
		border: 1px solid #E5E7EB;
		border-radius: 8px;
		padding: 1.25rem 1.25rem 1.5rem;
		text-align: center;
	}

	.card h3 {
		margin: 0 0 0.75rem;
		font-size: 1.05rem;
		font-weight: 700;
	}

	.card p {
		margin: 0;
		color: #374151;
		font-size: 0.95rem;
	}

	.section {
		margin: 0 auto;
		padding: 2rem 1rem 3rem;
	}

	.section h2 {
		font-size: 1.4rem;
		margin: 0 0 0.75rem;
	}

	.lead {
		color: #374151;
	}

	footer {
		background: #245F3E;
		color: #fff;
		padding: 2rem 1rem;
		text-align: center;
	}

	.leadership-section {
		display: grid;
		grid-template-columns: 1fr 2fr;
		gap: 2rem;
		align-items: start;
	}

	.profile-image {
		text-align: center;
	}

	.image-placeholder {
		width: 200px;
		height: 250px;
		background: #fff;
		border: 1px solid #E5E7EB;
		border-radius: 8px;
		margin: 0 auto 1rem;
	}

	.profile-info h3 {
		margin: 0 0 0.5rem;
		color: #1F2937;
		font-size: 1.1rem;
	}

	.profile-info p {
		margin: 0;
		color: #374151;
		font-size: 0.95rem;
	}

	.leadership-content h2 {
		color: #245F3E;
		margin: 0 0 1rem;
		font-size: 1.4rem;
	}

	.org-chart {
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 2rem;
	}

	.chart-level {
		display: flex;
		justify-content: center;
		gap: 3rem;
		position: relative;
	}

	.chart-level::before {
		content: '';
		position: absolute;
		top: -1rem;
		left: 50%;
		width: 2px;
		height: 1rem;
		background: #E5E7EB;
	}

	.chart-level:first-child::before {
		display: none;
	}

	.chart-node {
		width: 80px;
		height: 80px;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		position: relative;
	}

	.person-icon {
		font-size: 2rem;
		color: #fff;
	}

	.chart-node.orange { background: #FF8C42; }
	.chart-node.yellow { background: #FFD93D; }
	.chart-node.green { background: #6BCF7F; }
	.chart-node.blue { background: #4DABF7; }

	.chart-level.level-1 .chart-node { width: 100px; height: 100px; }
	.chart-level.level-2 .chart-node { width: 90px; height: 90px; }
	.chart-level.level-3 .chart-node { width: 80px; height: 80px; }
	.chart-level.level-4 .chart-node { width: 70px; height: 70px; }
</style>

</head>
<body>
	<div class="about-container">
		<div style="position: relative; min-height: 40px;">
			<a href="{% url 'edit_about_us' %}" class="edit-btn" style="position: absolute; top: 0; right: 0;" title="Edit About Us">
				<i class="fa-solid fa-pen-to-square"></i>
			</a>
		</div>

		<section class="hero">
			<div>
				<h1>Palawan State University<br>University Extension Services Office</h1>
				<p class="lead">{{ about.hero_text|linebreaksbr }}</p>
			</div>
			<div class="seal">
				<img alt="Palawan State University Seal" src="https://upload.wikimedia.org/wikipedia/commons/f/fa/Palawan_State_University_seal.png">
			</div>
		</section>

		<div class="section-gray">
			<div class="container">
				<h2 class="section-title">UESO Mission and Vision</h2>
				<div class="two-col">
					<div class="card">
						<h3>UESO Vision</h3>
						<p>{{ about.vision_text|linebreaksbr }}</p>
					</div>
					<div class="card">
						<h3>UESO Mission</h3>
						<p>{{ about.mission_text|linebreaksbr }}</p>
					</div>
				</div>
			</div>
		</div>

		<section class="section">
			<h2>UESO Thrust and Priorities</h2>
			<p class="lead">{{ about.thrust_text|linebreaksbr }}</p>
		</section>

		<div class="section-gray">
			<div class="container">
				<div class="leadership-section">
					<div class="profile-image">
						{% if about.director_image %}
							<img src="{{ about.director_image.url }}" alt="Director Image" style="max-width:200px; margin-bottom:8px;">
						{% else %}
							<div class="image-placeholder"></div>
						{% endif %}
						<div class="profile-info">
							<h3>{{ about.director_name }}</h3>
							<p>Director, Extension Services Office</p>
						</div>
					</div>
					<div class="leadership-content">
						<h2>Leadership & Administration</h2>
						<p>{{ about.leadership_description|linebreaksbr }}</p>
					</div>
				</div>
			</div>
		</div>

		<section class="section">
			<h2 class="section-title">Organizational Chart</h2>
			<div class="org-chart">
				{% if about.org_chart_image %}
					<img src="{{ about.org_chart_image.url }}" alt="Org Chart Image" style="max-width: 100%; margin-bottom: 16px;">
				{% endif %}
				<p class="lead">{{ about.org_chart_description|linebreaksbr }}</p>
			</div>
		</section>
	</div>

<script>
	// Success Toast
	document.addEventListener('DOMContentLoaded', function() {
		const urlParams = new URLSearchParams(window.location.search);
		const success = urlParams.get('success');
		const action = urlParams.get('action');

		if (success === 'true' && action) {
			const actionMessages = {
				'updated': 'About Us Updated Successfully!'
			};

			const message = actionMessages[action] || 'Action Completed Successfully!';

			const toast = document.createElement('div');
			toast.id = 'successToast';
			toast.style.cssText = 'display:block;position:fixed;top:20px;right:20px;background:#10b981;color:white;padding:1rem 1.5rem;border-radius:8px;box-shadow:0 4px 12px rgba(0,0,0,0.15);z-index:10000;font-size:1rem;font-weight:500;min-width:300px;';
			toast.innerHTML = `
				<div style="display:flex;align-items:center;gap:0.75rem;">
					<i class="fa-solid fa-check-circle" style="font-size:1.5rem;"></i>
					<div>
						<div style="font-weight:600;margin-bottom:0.25rem;">${message}</div>
						<div style="font-size:0.875rem;opacity:0.9;">Changes have been saved</div>
					</div>
				</div>
			`;
			document.body.appendChild(toast);

			// Auto-hide after 4 seconds
			setTimeout(function() {
				toast.style.opacity = '0';
				toast.style.transition = 'opacity 0.3s';
				setTimeout(function() {
					toast.remove();
					// Clean URL
					window.history.replaceState({}, document.title, window.location.pathname);
				}, 300);
			}, 4000);
		}
	});
</script>
</body>
</html> 

{% endblock %}