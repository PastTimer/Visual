{% extends base_template %}
{% block content %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Director Archives</title>
{% load static %}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:700&family=Inter:wght@400;700&display=swap" rel="stylesheet">

<style>
	body {
		margin: 0;
		font-family: Arial, sans-serif;
		display: flex;
		background: #fff;
		color: #111;
	}

    .sidebar-container {
		width: 250px;
		min-height: 100vh;
		padding: 20px;
		background-color: #063A1C;
		color: white;
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		border-top-right-radius: 20px;
		border-bottom-right-radius: 20px;
		transition: width 0.2s ease;
		overflow: hidden;
		position: relative;
		flex-shrink: 0;
    }

    .sidebar-container.collapsed {
		width: 55px;
    }

	/* Drag handle */
	.resize-handle {
		position: absolute;
		top: 0;
		right: 0;
		width: 8px;
		cursor: ew-resize;
		background: transparent;
		height: 100%;
	}

    .sidebar-logo {
		display: flex;
		align-items: center;
		margin-bottom: 15px;
		white-space: nowrap;
    }

    .sidebar-logo-circle {
		width: 40px;
		height: 40px;
		background-color: white;
		border-radius: 50%;
		margin-left: 7px;
		margin-right: 15px;
		flex-shrink: 0;
		align-items: center;
    }

    .sidebar-logo-text {
		font-family: 'Instrument Sans', sans-serif;
		font-size: 16px;
		font-weight: 800;
		display: inline-block;
    }

    /* Hide elements properly when collapsed */
    .sidebar-container.collapsed .sidebar-tab-group-label {
    	visibility: hidden;
    }

    .sidebar-container.collapsed .sidebar-logo-text,
	.sidebar-container.collapsed .table-text {
    	display: none;
    }

    .sidebar-tab-group-label {
		font-family: 'Inter', sans-serif;
		font-size: 16px;
		padding: 10px 0;
    }

    .sidebar-tabs {
		flex: 1;
		display: flex;
		flex-direction: column;
		gap: 15px;
    }

    .sidebar-tab {
		display: flex;
		align-items: center;
		text-decoration: none;
		color: white;
		padding: 10px;
		border-radius: 10px;
		transition: background-color 0.2s ease;
    }

    .sidebar-tab:hover {
		background-color: #052C15;
    }

    .sidebar-tab.active {
		background-color: #052C15;
    }

    .sidebar-tab-icon {
		width: 24px;
		height: 24px;
		margin-right: 15px;
		flex-shrink: 0;
		display: flex;
		align-items: center;
		justify-content: center;
    }

    .sidebar-tab-icon svg {
		width: 24px;
		height: 24px;
		color: white;
    }

    .sidebar-logout {
      	padding-top: 20px;
    }

    .table-text {
		font-family: 'Inter', sans-serif;
		font-size: 22px;
		font-weight: bold;
    }

    /* Main content area */
    .main-content {
    	flex: 1;
    	padding: 40px;
    	overflow-y: auto;
    }

    /* Top header area */
    .content-header {
    	display: flex;
    	align-items: center;
    	justify-content: space-between;
    	margin-bottom: 20px;
    }

    .header-left {
    	display: flex;
    	align-items: center;
    	gap: 20px;
    }

    .hamburger {
    	width: 24px;
    	height: 18px;
    	cursor: pointer;
    	display: flex;
    	flex-direction: column;
    	justify-content: space-between;
    	background: none;
    	border: none;
    	padding: 0;
    }

    .hamburger span {
    	width: 100%;
    	height: 2px;
    	background-color: #333;
    	border-radius: 1px;
    	transition: all 0.3s ease;
    }

    .header-right {
    	display: flex;
    	align-items: center;
    	gap: 15px;
    }

    .notification-icon, .settings-icon {
    	width: 24px;
    	height: 24px;
    	cursor: pointer;
    	display: flex;
    	align-items: center;
    	justify-content: center;
    	color: #333;
    }

    .notification-icon svg, .settings-icon svg {
    	width: 20px;
    	height: 20px;
    }

    .user-avatar {
    	width: 50px;
    	height: 50px;
    	border-radius: 50%;
    	background-color: #4A90E2;
    	display: flex;
    	align-items: center;
    	justify-content: center;
    	color: white;
    	font-weight: bold;
    	font-size: 18px;
    	border: 2px solid #fff;
    	box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    /* Search row */
    .search-section {
    	margin: 20px 0;
    	display: flex;
    	align-items: center;
    	gap: 12px;
    }

    .search {
    	flex: 1;
    	display: flex;
    	align-items: center;
    	gap: 10px;
    	background: #f2f4f8;
    	border: 1px solid #e6e9ef;
    	border-radius: 12px;
    	padding: 14px 16px;
    }

    .search svg { width: 18px; height: 18px; color: #666; }
    .search input {
    	flex: 1;
    	border: none;
    	outline: none;
    	background: transparent;
    	font-size: 14px;
    	color: #111;
    }

    /* Sort Arrow */
    .sort-arrow {
    	display: flex;
    	align-items: center;
    	justify-content: center;
    	width: 40px;
    	height: 40px;
    	border: 1px solid #e6e9ef;
    	border-radius: 8px;
    	background: #fff;
    	cursor: pointer;
    	font-size: 18px;
    }

    /* Dropdown */
    .dropdown { position: relative; }
    .dropdown-toggle {
    	background: #f4f2f1;
    	border: 1px solid #dad6d3;
    	color: #111;
    	padding: 10px 14px;
    	border-radius: 10px;
    	cursor: pointer;
    	font-weight: 600;
    	min-width: 150px;
    	text-align: left;
    }
    .dropdown-toggle .caret { float: right; }
    .dropdown-menu {
    	position: absolute;
    	right: 0;
    	top: calc(100% + 6px);
    	background: #fff;
    	border: 1px solid #e6e6e6;
    	border-radius: 10px;
    	min-width: 180px;
    	box-shadow: 0 8px 18px rgba(0,0,0,.06);
    	display: none;
    	padding: 8px 0;
    	z-index: 1000;
    }
    .dropdown:hover .dropdown-menu { display: block; }
    .dropdown .dropdown-menu:hover { display: block; }
    .dropdown-header {
    	padding: 8px 16px 4px 16px;
    	font-size: 12px;
    	font-weight: 600;
    	color: #666;
    	text-transform: uppercase;
    	letter-spacing: 0.5px;
    	border-bottom: 1px solid #f0f0f0;
    	margin-bottom: 4px;
    }
    .dropdown-item {
    	padding: 10px 16px;
    	cursor: pointer;
    	color: #333;
    	font-size: 14px;
    	border-radius: 0;
    }
    .dropdown-item:hover { background: #f4f6f8; }

    /* Page title */
    .page-title {
    	margin: 20px 0;
    }
    .page-title h1 {
    	font-size: 32px;
    	font-weight: 700;
    	letter-spacing: .2px;
    	color: #000;
    	margin: 0;
    }

    /* Content sections */
    .content-section { display: none; }
    .content-section.active { display: block; }

    /* Year Grid View */
    .archive-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 18px; margin-top: 20px; }
    .archive-card {
    	border: 1px solid #ececec;
    	border-radius: 14px;
    	padding: 28px;
    	background: #fff;
    	min-height: 260px;
    	display: flex;
    	flex-direction: column;
    	justify-content: center;
    	align-items: center;
    	text-decoration: none;
    	color: inherit;
    	transition: transform 0.2s ease, box-shadow 0.2s ease;
    }
    .archive-card:hover {
    	transform: translateY(-2px);
    	box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .year {
    	font-size: 72px;
    	font-weight: 800;
    	letter-spacing: 2px;
    	background: linear-gradient(90deg, #db8b28, #45b16f);
    	-webkit-background-clip: text;
    	background-clip: text;
    	color: transparent;
    }
    .projects-info {
    	margin-top: 28px;
    	font-size: 18px;
    	color: #222;
    	text-align: center;
    }
    .projects-count {
    	font-weight: 800;
    }

    /* Table View */
    .table-wrap { max-width: 1200px; margin: 0 auto 40px; padding: 0 20px; }
    .table-box { border: 1px solid #000; border-radius: 0; overflow: hidden; background: #fff; }
    table { width: 100%; border-collapse: collapse; }
    thead th { text-align: left; background: #ffffff; padding: 16px; font-size: 18px; border-right: 1px solid #000; border-bottom: 1px solid #000; }
    thead th:last-child { border-right: none; }
    tbody td { background: #fff; padding: 18px 16px; vertical-align: top; border-right: 1px solid #000; border-bottom: 1px solid #000; }
    tbody td:last-child { border-right: none; }
    tbody tr:last-child td { border-bottom: none; }
    a.link { color: #2a55ff; text-decoration: underline; }
    .center { text-align: center; }

    /* College Cards View */
    .content { max-width: 1200px; margin: 18px auto; padding: 0 20px; }
    .cards { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 24px; }
    .college-card {
    	background: #efefef;
    	border: 1px solid #dcdcdc;
    	border-radius: 12px;
    	padding: 24px;
    	display: grid;
    	grid-template-rows: auto auto 1fr auto;
    	align-items: center;
    	justify-items: center;
    	min-height: 360px;
    	transition: transform 0.2s ease, box-shadow 0.2s ease;
    	text-decoration: none;
    	color: inherit;
    }
    .college-card:hover {
    	transform: translateY(-2px);
    	box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    .badge {
    	width: 160px;
    	height: 160px;
    	border-radius: 50%;
    	background: #fff;
    	border: 2px solid #ddd;
    	margin-bottom: 10px;
    	display: grid;
    	place-items: center;
    	font-weight: 800;
    	color: #999;
    }
    .badge img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; }
    .college-name { text-align: center; font-weight: 700; font-size: 14px; line-height: 1.2; }
    .muted { color: #666; font-size: 14px; }
</style>
</head>

<body>
	<!-- Main Content -->
	<div class="main-content">

	
		<!-- Search section -->
		<div class="search-section">
			<div class="search">
				<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M21 21l-4.35-4.35M10.5 18a7.5 7.5 0 1 1 0-15 7.5 7.5 0 0 1 0 15Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
				<input type="text" placeholder="Search" />
			</div>
			<div class="sort-arrow" onclick="toggleSort()" title="Sort by Year Started">
				<span id="sortIcon">▾</span>
			</div>
			<div class="dropdown">
				<button class="dropdown-toggle">Year Started <span class="caret">▾</span></button>
				<div class="dropdown-menu">
					<div class="dropdown-item" onclick="showView('year')">Year Started</div>
					<div class="dropdown-item" onclick="showView('year')">Year Ended</div>
					<div class="dropdown-item">Agenda</div>
					<div class="dropdown-item" onclick="showView('college')">College/CCRD</div>
				</div>
			</div>
		</div>

		<!-- Page title -->
		<div class="page-title">
			<h1>Archive</h1>
		</div>

		<!-- Year Grid View -->
		<div id="year-view" class="content-section active">
			<div class="archive-grid" id="yearGrid">
				<a href="#" class="archive-card" data-year="2025">
					<div class="year">2025</div>
					<div class="projects-info">No. of Projects: <span class="projects-count">3</span></div>
				</a>
				<a href="#" class="archive-card" data-year="2024">
					<div class="year">2024</div>
					<div class="projects-info">No. of Projects: <span class="projects-count">10</span></div>
				</a>
				<a href="#" class="archive-card" data-year="2023">
					<div class="year">2023</div>
					<div class="projects-info">No. of Projects: <span class="projects-count">23</span></div>
				</a>
				<a href="#" class="archive-card" data-year="2022">
					<div class="year">2022</div>
					<div class="projects-info">No. of Projects: <span class="projects-count">15</span></div>
				</a>
				<a href="#" class="archive-card" data-year="2021">
					<div class="year">2021</div>
					<div class="projects-info">No. of Projects: <span class="projects-count">9</span></div>
				</a>
			</div>
		</div>

		<!-- Table View (2023 Projects) -->
		<div id="table-view" class="content-section">
			<div class="table-wrap">
				<div class="table-box">
					<table>
						<thead>
							<tr>
								<th>Name</th>
								<th>Proponents</th>
								<th>Date Started</th>
								<th>Date Ended</th>
								<th>Duration</th>
								<th>No. of Trainees</th>
								<th>Satisfaction Evaluation</th>
								<th>Action</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									<a href="#" class="link">Pre-Release Psychological Intervention Program for PDL's</a>
								</td>
								<td>
									<div><a href="#" class="link">Yvie G. Renaldo</a></div>
									<div><a href="#" class="link">Estes U. Talledo</a></div>
								</td>
								<td>January 06, 2023</td>
								<td>January 23, 2024</td>
								<td>1 year, 17 days</td>
								<td class="center">115</td>
								<td>Excellent</td>
								<td>Candidate for further research</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>

		<!-- College Cards View -->
		<div id="college-view" class="content-section">
			<div class="content">
				<div class="cards">
					<a href="#" style="text-decoration:none; color: inherit;">
						<div class="college-card">
							<div class="badge"><img src="{% static 'college_logos/collegeofartshumanities.jpg' %}" alt="College of Arts and Humanities"></div>
							<div class="college-name">COLLEGE OF ARTS AND HUMANITIES</div>
							<div class="muted">No. of Projects: 5</div>
						</div>
					</a>
					<a href="#" style="text-decoration:none; color: inherit;">
						<div class="college-card">
							<div class="badge"><img src="{% static 'college_logos/collegeofcriminalandjustice.jpg' %}" alt="College of Criminal Justice Education"></div>
							<div class="college-name">COLLEGE OF CRIMINAL JUSTICE EDUCATION</div>
							<div class="muted">No. of Projects: 5</div>
						</div>
					</a>
					<a href="#" style="text-decoration:none; color: inherit;">
						<div class="college-card">
							<div class="badge"><img src="{% static 'college_logos/collegeofbusinessaccountancy.jpg' %}" alt="College of Business and Accountancy"></div>
							<div class="college-name">COLLEGE OF BUSINESS AND ACCOUNTANCY</div>
							<div class="muted">No. of Projects: 3</div>
						</div>
					</a>
					<a href="#" style="text-decoration:none; color: inherit;">
						<div class="college-card">
							<div class="badge"><img src="{% static 'college_logos/collegeofengineering.png' %}" alt="College of Engineering"></div>
							<div class="college-name">COLLEGE OF ENGINEERING</div>
							<div class="muted">No. of Projects: 5</div>
						</div>
					</a>
					<a href="#" style="text-decoration:none; color: inherit;">
						<div class="college-card">
							<div class="badge"><img src="{% static 'college_logos/collegeofengineering.png' %}" alt="College of Architecture"></div>
							<div class="college-name">COLLEGE OF ARCHITECTURE</div>
							<div class="muted">No. of Projects: 5</div>
						</div>
					</a>
					<a href="#" style="text-decoration:none; color: inherit;">
						<div class="college-card">
							<div class="badge"><img src="{% static 'college_logos/collegeofhospitalitymanagement.jpg' %}" alt="College of Hospitality and Tourism Management"></div>
							<div class="college-name">COLLEGE OF HOSPITALITY AND TOURISM MANAGEMENT</div>
							<div class="muted">No. of Projects: 5</div>
						</div>
					</a>
					<a href="#" style="text-decoration:none; color: inherit;">
						<div class="college-card">
							<div class="badge"><img src="{% static 'college_logos/collegeofnursing.jpg' %}" alt="College of Nursing and Health Sciences"></div>
							<div class="college-name">COLLEGE OF NURSING AND HEALTH SCIENCES</div>
							<div class="muted">No. of Projects: 5</div>
						</div>
					</a>
					<a href="#" style="text-decoration:none; color: inherit;">
						<div class="college-card">
							<div class="badge"><img src="{% static 'college_logos/collegeofsciences.jpg' %}" alt="College of Sciences"></div>
							<div class="college-name">COLLEGE OF SCIENCES</div>
							<div class="muted">No. of Projects: 5</div>
						</div>
					</a>
					<a href="#" style="text-decoration:none; color: inherit;">
						<div class="college-card">
							<div class="badge"><img src="{% static 'college_logos/collegeofteachereducation.png' %}" alt="College of Teacher Education"></div>
							<div class="college-name">COLLEGE OF TEACHER EDUCATION</div>
							<div class="muted">No. of Projects: 3</div>
						</div>
					</a>
				</div>
			</div>
		</div>
	</div>

	<script>
		// Sidebar functionality
		const sidebar = document.getElementById("sidebar");
		const handle = sidebar.querySelector(".resize-handle");

		let isDragging = false;
		let startX = 0;
		let startWidth = 0;

		const expandedWidth = 250;
		const collapsedWidth = 55;
		const dragTolerance = 10;

		handle.addEventListener("mousedown", (e) => {
			isDragging = true;
			startX = e.clientX;
			startWidth = sidebar.offsetWidth;
			document.body.style.cursor = "ew-resize";
		});

		document.addEventListener("mouseup", (e) => {
			if (!isDragging) return;
			isDragging = false;
			document.body.style.cursor = "default";

			const diff = e.clientX - startX;

			if (Math.abs(diff) < dragTolerance) {
				if (sidebar.classList.contains("collapsed")) {
					sidebar.classList.remove("collapsed");
					sidebar.style.width = expandedWidth + "px";
				} else {
					sidebar.classList.add("collapsed");
					sidebar.style.width = collapsedWidth + "px";
				}
				return;
			}

			if (e.clientX < 150) {
				sidebar.classList.add("collapsed");
				sidebar.style.width = collapsedWidth + "px";
			} else {
				sidebar.classList.remove("collapsed");
				sidebar.style.width = expandedWidth + "px";
			}
		});

		// Toggle sidebar function for hamburger menu
		function toggleSidebar() {
			if (sidebar.classList.contains("collapsed")) {
				sidebar.classList.remove("collapsed");
				sidebar.style.width = expandedWidth + "px";
			} else {
				sidebar.classList.add("collapsed");
				sidebar.style.width = collapsedWidth + "px";
			}
		}

		// Sort functionality
		let isAscending = true;

		function toggleSort() {
			const grid = document.getElementById('yearGrid');
			const cards = Array.from(grid.children);
			const sortIcon = document.getElementById('sortIcon');

			isAscending = !isAscending;
			sortIcon.textContent = isAscending ? '▾' : '▴';

			cards.sort((a, b) => {
				const yearA = parseInt(a.getAttribute('data-year'));
				const yearB = parseInt(b.getAttribute('data-year'));
				return isAscending ? yearA - yearB : yearB - yearA;
			});

			cards.forEach(card => grid.appendChild(card));
		}

		function showView(viewName) {
			// Hide all content sections
			document.querySelectorAll('.content-section').forEach(section => {
				section.classList.remove('active');
			});
			
			// Show selected view
			document.getElementById(viewName + '-view').classList.add('active');
		}

		// Improved dropdown hover behavior
		document.addEventListener('DOMContentLoaded', function() {
			// Handle main dropdown (Projects/Experts)
			const dropdown = document.querySelector('.dropdown');
			const dropdownMenu = document.querySelector('.dropdown-menu');
			let dropdownTimeout;
			
			if (dropdown && dropdownMenu) {
				dropdown.addEventListener('mouseenter', function() {
					clearTimeout(dropdownTimeout);
					dropdownMenu.style.display = 'block';
				});
				
				dropdown.addEventListener('mouseleave', function() {
					dropdownTimeout = setTimeout(function() {
						dropdownMenu.style.display = 'none';
					}, 150);
				});
				
				dropdownMenu.addEventListener('mouseenter', function() {
					clearTimeout(dropdownTimeout);
					dropdownMenu.style.display = 'block';
				});
				
				dropdownMenu.addEventListener('mouseleave', function() {
					dropdownTimeout = setTimeout(function() {
						dropdownMenu.style.display = 'none';
					}, 150);
				});
			}
		});
	</script>
</body>
</html>

{% endblock %}