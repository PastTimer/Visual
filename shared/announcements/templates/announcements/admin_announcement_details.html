{% extends "base_internal.html" %}
{% block content %}
{% load static %}
{% load tz %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Announcement Details</title>

<link href="https://fonts.googleapis.com/css2?family=Instrument+Sans:700&family=Inter:wght@400;700;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
<link href="{% static 'shared/announce/styles.css' %}" rel="stylesheet">
</head>
<body>
    <div class="main-container">
        <a href="{% url 'announcement_dispatcher' %}" style="color: #2563eb; text-decoration: none; font-weight: 500; display: inline-flex; align-items: center; gap: 6px; margin-bottom: 18px; font-size: 1.08rem;">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M15 10H5m0 0l4-4m-4 4l4 4"/></svg>
            Back to Announcements
        </a>
        
        <div class="details-card">
            <div class="details-thumb">
                <img src="{{ announcement.get_cover_photo_url }}" alt="Cover Photo" />
            </div>
            <div class="details-title">{{ announcement.title }}</div>
            <div class="details-meta" style="gap: 12px;">
                {% if announcement.published_at %}
                    <div style="display: flex; gap: 8px; align-items: center;">
                        <span class="details-date">Published: {{ announcement.published_at|date:"F d, Y" }} at {{ announcement.published_at|date:"H:i" }}</span>
                        {% if announcement.published_by %}
                            <span class="details-author">by: {{ announcement.published_by.get_full_name|default:announcement.published_by.username }}</span>
                        {% endif %}
                    </div>
                {% endif %}

                {% if announcement.is_scheduled and announcement.scheduled_at %}
                    <div style="display: flex; gap: 8px; align-items: center;">
                        <span class="details-date orange-text">Scheduled: {{ announcement.scheduled_at|date:"F d, Y" }} at {{ announcement.scheduled_at|date:"H:i" }}</span>
                        {% if announcement.scheduled_by %}
                            <span class="details-author">by: {{ announcement.scheduled_by.get_full_name|default:announcement.scheduled_by.username }}</span>
                        {% endif %}
                    </div>
                {% endif %}

                {% if announcement.edited_at %}
                    <div style="display: flex; gap: 8px; align-items: center;">
                        <span class="details-date green-text">Last Edited: {{ announcement.edited_at|date:"F d, Y" }} at {{ announcement.edited_at|date:"H:i" }}</span>
                        {% if announcement.edited_by %}
                            <span class="details-author">by: {{ announcement.edited_by.get_full_name|default:announcement.edited_by.username }}</span>
                        {% endif %}
                    </div>
                {% endif %}
            </div>
            <div class="details-body">{{ announcement.body }}</div>
        </div>
    </div>

</body>
</html>
{% endblock %}
